<html><head><title>Permanent Link to POX x REST: Interfaces Padronizadas</title><meta charset="utf-8"></head><body><h2>Permanent Link to POX x REST: Interfaces Padronizadas</h2><p>Enquanto o GUJ tem sua massagem noturna eu <a href="http://web.archive.org/web/20090212105947/http://guj.com.br/posts/list/57823.java">respondo ao post do Maurício por aqui</a>. O tema é REST x POX, mais especificamente: precisamos usar REST o tempo todo?</p><p>Pra você que estava hibernando há uns 12 meses, <a href="http://web.archive.org/web/20090212105947/http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a> é um estilo arquitetural que se coloca como uma alternativa ao uso de SOAP e padrõesWS -* para criar WebServices. REST é interessante porque este estilo arquitetural é conhecido e utilizado há anos: é o estilo arquitetural que define a Web. Um sistema REST vai usar os métodos HTTP (GET, POST, PUT e DELETE), os content-types, os código de resposta e tudo mais que você ignora solenemente na maioria das aplicações web atuais mas que estão desenvolvidas e especificadas há mais de uma década.</p><p>Um possível problema seria de que as pessoas estão dizendo que usam REST quando na verdade apenas usam XML passando por HTTP, o chamadoPOX ( Plain Old XML, um primo do POJO). Este processo é exatamente a mesma coisa que utilizar SOAP com HTTP, exceto pelo fato de que o XML é personalizado (ao invés de 500 envelopes, um dentro do outro) e que não temos umWSDL (o que provavelmente é ruim).</p><p>Bom, a pergunta do Maurício é: isso é ruim? A resposta você já sabe: <strong>depende</strong>, mas depende do quê?</p><p>Quando se usa WebServices SOAP ou REST o que se quer é ter uma interface padronizada para um serviço. Há décadas nós temos serviços distribuídos sendoamplamente utilizados, o motivo de existir SOAP e outros é padronizar este ecossistema. Quando você padroniza algo como o protocolo de interface remota de todas as aplicações obviamente você vai pagar um preço em eficiência. Uma aplicação que segue um protocolo genérico como HTTP provavelmente não será tão eficiente em comunicação remota quanto um que segue um protocolo específico e especializado.</p><p>A partir do momento que você resolve utilizar uma interface genérica você assina um contrato. Se você me disser que seu sistema éRESTful eu tenho <strong>certeza</strong> que se eu fizer a requisição de um objeto inexistente seu sistema irá retornar um código de erro 404, e não um código 200 com um XML bonitinho e uma mensagem de erro. 200 pra mimsignifica uma só coisa: <i>“Ok, o objeto existe e seu conteúdo segue no corpo da mensagem”</i>.</p><p>Ao fazer POX você quebra esta regra. Pode ser que seu sistema seja simples e que definir um mini-protocolo baseado em POX seja uma ótima solução, mas você acaba de inventar seu próprio padrão, que é exatamente o que o uso de WebServices tenta evitar. Mesmo para sistemas legados com seus próprios padrões (coisinhas em COBOL, por exemplo), nós temos oESB como tecnologia que converte mensagens para um formato intermediário, de modo que não sejam criados seus próprios padrões. A idéia por trás de REST não é abolir padrões mas sim ter uma especificação simples e eficiente, com um mínimo de primitivas e máxima extensibilidade.</p></body></html>