<html><head><title>Permanent Link to Múltiplas Fontes de Dados, uma Engine ORM</title><meta charset="utf-8"></head><body><h2>Permanent Link to Múltiplas Fontes de Dados, uma Engine ORM</h2><p><a href="http://web.archive.org/web/20090211221146/http://jroller.com/page/dukejeffrie/?anchor=don_t_insist_when_you">O Tiago postou no seu blog</a> sua percepção sobre como o <a href="http://web.archive.org/web/20090211221146/http://www.hibernate.org/410.html">Hibernate Search</a> é um tiro no pé. Ele afirma que justo agora que o problema do mapeamento objeto-relacional está ficando irrelevante estão criando outro problema, que ele chamou de <em>object-indexed</em>.</p><p>Eu concordo que existe um novo problema no horizonte e que a estrutura simplificada de metadados para persistência não está pronta para este tipo de coisa, mas não acho que seja perda de tempo esta engine, na verdade acho que pode ser muito útil. Em um projeto recente utilizei a tecnologia que meu cliente adquiriu para fazer buscas em conteúdo, uma plataforma cara e famosa de busca. Apesar de eventuais problemas com APIs, a coisa se mostrou bem interessante.</p><p>Neste sistema eu utilizo o banco de dados para fazer buscas por objetos quando os quero processar e em um caso específico (o “resultado de busca”) eu preciso destes mesmos objetos vindos da engine de busca. Não importa qual a origem, os dados representam o mesmo objeto. As Camadas de Apresentação e de Negócios estão prontas para lidar com este objeto, apenas a Camada de Persistência deve saber de onde vieram.</p><p>Eu fiz todo este trabalho na mão e isso é bem trabalhoso. No final das contas criei um código relativamente reutilizável, que pode ser empacotado numa rquivo JAR e está sendo utilizado em outros projetos com necessidades parecidas. </p><p>A grande vantagem em termos objetos que podem vir de fontes estruturadas como um SGBD ou flat como uma engine de busca é que num ambiente como o meu atual onde <a href="http://web.archive.org/web/20090211221146/http://fragmental.com.br/blog/?p=251">a base de dados é o centro do universo</a> fazer consultas ao banco é muito caro. Muitas vezes faz mais sentido pesquisar na engine de busca, que apesar de não trazer informações e relacionamentos completos possui informação para leitura facilmente encontrável.</p><p>Independência de persistência é algo que sempre existiu. Neste caso ainda é mais simples porque os dados são de somente-leitura em uma base, ela age simplesmente como um cache. O <a href="http://web.archive.org/web/20090211221146/http://www.danga.com/memcached/">memcached</a>, aliás, está sendo utilizado no meu projeto atual e é tratado de maneira persistente pela aplicação através de filtros no Spring.</p><p>Os dados vêm de todo lugar, uma interface única e poderosa como do Hibernate/JPA são muito úteis no cenário moderno.</p></body></html>