<html><head><title>Permanent Link to Ruby é JavaScript ao Avesso</title><meta charset="utf-8"></head><body><h2>Permanent Link to Ruby é JavaScript ao Avesso</h2><p>O titulo é uma brincadeira mas é uma boa forma de lembrar algumas coisinhas sobre programação nestas linguagens. Cada vez mais lidamos no dia-a-dia com conceitos que estão presentes há décadas em linguagens mais esotéricas mas nunca deram as caras no <em>mainstream</em>, um deles é o uso de funções como abstração. Existe um conflito de termos aqui então só para deixar claro eu não estou falando de funções como em programação procedural mas sim de funções como vemos em closures.</p><p>Muita gente tem escrito sobre como devemos aprender programação funcional. Eu concordo mas não posso deixar de notar que quando alguém diz <em>programação funcional</em> geralmente ela quer dizer Higher-Order Functions.</p><p>E o que é isso? Bom, uma linguagem possui higher-order quando uma função pode receber como parâmetro outra função. O nome deriva do fato de que uma função que recebe outra é considerada de ordem 1, uma função que recebe outra que recebe outra é considerado 3 e assim em diante.</p><p>JavaScript possui higher-order programming. Funções são a abstração principal em javaScript e elas podem ser passadas à vontade pelo programa. Por exemplo, vamos supor que queremos comparar dois objetos de acordo com um critério arbitrário. Em JavaScript podemos fazer algo assim:</p><p>Em Ruby o código ficaria um pouco diferente:</p><p>Agora vamos pensar: as duas linguagens possuem higher-order programming? <strong>Não</strong>, só JavaScript possui. Em Ruby o que é passado não é uma função e sim um objeto, veja só:</p><p>O principal divergente da solução em Ruby é que você deve <a href="http://web.archive.org/web/20090212110003/http://blog.fragmental.com.br/2008/05/25/nem-so-de-troca-de-mensagens-vivem-os-objetos/">passar a mensagem</a> <em>call</em> para o objeto (ou usar a palavra-chave <em>yield</em>). Na pratica do dia-a-dia não tem tanta diferença e é comum falar em higher-order Ruby.</p><p>Em Ruby não precisamos de funções de verdade para termos higher-order programming, podemos usar objetos para modelar as funções. Em JavaScript não temos construções especiais para objetos, mas utilizamos funções:</p><p>Alguém me disse essa semana que uma das grandes vantaens em aprender higher-order programming (a pessoa falou em programação funcional mas não é bem isso que ela quis dizer) é que com ela você simula objetos mas o contrario não é verdade. Bom, não é assim. Nada impede de você ter higher-order programming em uma linguagem Orientada a Objetos (JavaScript é Orientada a Objetos!) e com objetos você pode facilmente modelar higher-order programming.</p><p>E qual a diferença disso tudo para programação funcional? Bom, programação funcional usa higher-order programming, mas não é isso que define uma linguagem funcional (JavaScript não é funcional).</p><p>Em 1984, <a href="http://web.archive.org/web/20090212110003/http://www.math.chalmers.se/~rjmh/Papers/whyfp.html">John Hughes publicou um paper chamado “Why Functional Programming Matters”</a>. Este paper é, até hoje, uma das obras mais importantes para o paradigma. Nele o autor descreve:</p><p> The special characteristics and advantages of functional programming are often summed up more or less as follows. Functional programs contain no assignment statements, so variables, once given a value, never change. More generally, functional programs contain no side-effects at all. A function call can have no effect other than to compute its result. This eliminates a ma jor source of bugs, and also makes the order of execution irrelevant - since no side-efect can change the value of an expression, it can be evaluated at any time. This relieves the programmer of the burden of prescribing the flow of control. Since expressions can be evaluated at any time, one can freely replace variables by their values and vice versa - that is, programs are “referentially transparent”. This freedom helps make functional programs more tractable mathematically than their conventional counterparts. </p><p><a href="http://web.archive.org/web/20090212110003/http://jaoo.com.au/sydney-2008/file?path=/jaoo_aus2008/slides/Meijer_functionalProgramming.pdf ">Erik Meijer apresentou uma palestra no JAOO chamada “Why Functional Programming (still) Matters”</a> onde ele afirma que nenhuma linguagem é realmente funcional, provando que se pode simular efeitos colaterais em Erlang, Haskell, F# e várias outras.</p><p>A conclusão do Erik -<a href="http://web.archive.org/web/20090212110003/http://research.microsoft.com/~emeijer/">é claro que defendendo suas decisões ao criar o LINQ</a>- é que os conceitos por trás das linguagens ditas funcionais são mais importantes do que ser uma linguagem puramente funcional ou não.</p><p>Isso significa que você deve aprender sobre programação funcional e aplicar suas técnicas sempre que necessário mas cuidado com o termo “funcional”. Na maioria das vezes você quis dizer <strong>Higher-Order Programming</strong>.</p><p><strong>Update:</strong> Alguns dos comentários msotram uma confusão com funções javaScript e objetos. Não só o texto falou que em JavaScript funções são objetos bem como ele mostrou o exemplo do sorveteiro, mas tentando deixar ainda mais claro:</p><p><img src="http://web.archive.org/web/20090212110003im_/http://farm4.static.flickr.com/3021/2572401771_f17312a7e9_o.jpg" alt="ds"></p></body></html>