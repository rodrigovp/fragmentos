<html><head><title>Permanent Link to Bancos de Dados Corporativos: Insistindo nos Erros</title><meta charset="utf-8"></head><body><h2>Permanent Link to Bancos de Dados Corporativos: Insistindo nos Erros</h2><p>A IBM é uma empresa que não inova. Deixou de ser o grande líder do mercado há décadas para se tornar um seguidor, e dos bem fraquinhos. O <a href="http://web.archive.org/web/20090212105947/http://www.alphaworks.ibm.com/">IBM AlphaWorks</a>, entretanto, é uma das poucas coisas que sobrevive em termos de inovação da IBM. Eu recebo a newsletter há alguns anos e é sempre uma das primeiras mensagens a serem lidas quando chegam.</p><p>Talvez por essa esperança toda que me decepciona fortemente ver que as pessoas ainda, em 2007 (notou que <em>“em 2007″</em> é uma expressão recorrente minha há algum tempo?) <a href="http://web.archive.org/web/20090212105947/http://www.alphaworks.ibm.com/tech/dbcjs?open&amp;ca=daw-flht-04052007&amp;S_TACT=106AH62W&amp;S_CMP=NEWS">as pessoas ainda insistem em conexões com bancos de dados feitas pelo cliente</a>. Saber disso realmente é frustrante como desenvolvedor.</p><p><a href="http://web.archive.org/web/20090212105947/http://fragmental.com.br/blog/?p=251">Bancos de dados como coração da empresa</a> já foram uma técnica válida. Era o único middleware que prestava ou era viável no cenário de algumas muitas décadas atrás. Hoje as pessoas querem SOA, querem componentes reutilizáveis e… continuam insistindo em repositórios de dados centralizados.</p><p>Certa vez a equipe que eu coordenava passou por um problema nessa área. Como parte do lançamento de um novo produto tivemos que eliminar algumas tabelas e mudar o <em>schema</em> de dados. Apesar daquele esquema só ser utilizado completamente pela minha equipe, sabíamos que algumas pessoas estavam fazendo consultas neles. Alguns <code>grep</code>s no CVS (infelizmente não usávamos SVN) e vimos que três projetos usavam as tabelas que eliminamos e que quase todos usam as outras. A solução do mundo dos SGBDs corporativos é uma só: faça uma view e mantenha ela no ar enquanto as pessoas não alterarem, testarem, homologarem e instalarem seus sistemas modificados.</p><p>Esta foi uma epifania, as pessoas acordaram e vimos que precisávamos racionalizar isso. A solução veio na forma de um arquivo JAR que continha um cliente padronizado fazendo consultas em JDBC diretamente ao banco de dados. Eventualmente construímos alguns WebServices <a href="http://web.archive.org/web/20090212105947/http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a> (como quase sempre, SOAP não fazia sentido) e os clientes que se conectavam ao banco foram migrados para versão que conectava-se ao REST. Quem teve o trabalho de se adaptar a primeira versão não precisou de mais anda para migrar para uma arquitetura SOA.</p><p>Quantas vezes vamos ter que resolver este mesmo problema até que todos percebam que bases de dados são apenas partes de sistemas?</p></body></html>