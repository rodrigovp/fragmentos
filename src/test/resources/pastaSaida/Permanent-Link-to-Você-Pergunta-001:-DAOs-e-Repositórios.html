<html><head><title>Permanent Link to Você Pergunta 001: DAOs e Repositórios</title><meta charset="utf-8"></head><body><h2>Permanent Link to Você Pergunta 001: DAOs e Repositórios</h2><p>Como todo mundo que bloga há anos, eu estou sem tempo e inspiração para escrever muito (dá pra ver a distância entre um post e outro), então resolvi colocar aqui algumas respostas de e-mails que recebo com questionamentos sobre artigos, posts e etc.</p><p>O primeiro segue abaixo:</p><p> fromLeandro André Zis<br> date Feb 23, 2007 11:15 PM<br> subject Artigo MVC e Camadas, Repositorio e DAOs </p><p>Ola Phillip,</p><p>No artigo MVC e Camadas mostra os DAOs herdando do repositorio, isto<br> esta correto?</p><p>Leandro Zis</p><p>Oi, Leandro,</p><p>Sim, está. </p><p>Um repositório é um conceito abstrato. Ele representa o lugar onde os objetos estão guardados esperando serem utilizados por alguma operação. Os outros objetos de negócio não enxergam nada além dele, ou seja, não sabem onde os objetos são guardados de fato, num banco de dados, arquivos CSV, etc.</p><p>Um DAO (Data Access Object) é uma encarnação do padrão <a href="http://web.archive.org/web/20090211221146/http://www.martinfowler.com/eaaCatalog/dataMapper.html">Data Mapper</a> cuja responsabilidade é mapear um objeto para tabelas e vice-versa.</p><p>Desta forma o DAO pode se tornar a implementação do Repositório. Os objetos de negócios sabem apenas que podem guardar e recuperar objetos do Repositório, nada além disso. Por baixo dos panos eles estão utilizando um DAO que implementa o Repositório, cuja responsabilidade é apenas salvar e recuperar objetos do banco de dados nada além disso.</p><p>Existem casos onde os Repositórios devem ter lógica de negócio incluída. Isso não é muito comum, se for o caso vale uma revisão do design da aplicação, mas se realmente for necessário aí provavelmente você vai querer criar o Repositório como uma classe de negócios que delega as atividades de persistência para um DAO. Fazer este Repositório com regras uma classe abstrata que o DAO herda seria ruim porque numa classe (o DAO) haveria responsabilidade de negócios e persistência.</p><p>[]s</p></body></html>